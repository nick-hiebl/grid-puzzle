(this["webpackJsonpgrid-puzzle"]=this["webpackJsonpgrid-puzzle"]||[]).push([[0],{43:function(t,e,n){},53:function(t,e,n){"use strict";n.r(e);var i,c=n(1),r=n.n(c),o=n(27),s=n.n(o),a=(n(43),n(17)),l=n(4),u=n(66),d=n(69),j=n(70),h=n(65),b=n(67),p=n(68),x=n(35),O=n(18),g=n(28),v=n(29),f=n(30),z=function(){function t(e){Object(v.a)(this,t),this.n=void 0,this.state=void 0,this.colCounts=void 0,this.rowCounts=void 0,this.totalActive=void 0;var n=e.n;if(this.n=n,this.state={enabled:Array(n*n).fill(!1),complete:!1},this.colCounts=e.colCounts||Array(n).fill(-1),this.rowCounts=e.rowCounts||Array(n).fill(-1),this.colCounts.some((function(t){return t<-1||t>n})))throw new Error("Invalid requirement forsome column "+JSON.stringify(this.colCounts));if(this.rowCounts.some((function(t){return t<-1||t>n})))throw new Error("Invalid requirement forsome column "+JSON.stringify(this.rowCounts));this.totalActive=void 0!==e.totalActive?e.totalActive:-1}return Object(f.a)(t,[{key:"isValid",value:function(t){var e=this;if(this.totalActive>=0&&t.enabled.reduce((function(t,e){return t+ +e}),0)!==this.totalActive)return!1;return!!this.colCounts.every((function(n,i){return-1===n||t.enabled.filter((function(t,n){return n%e.n===i})).reduce((function(t,e){return t+ +e}),0)===n}))&&!!this.rowCounts.every((function(n,i){return-1===n||t.enabled.slice(i*e.n,(i+1)*e.n).reduce((function(t,e){return t+ +e}),0)===n}))}},{key:"getState",value:function(){return this.state}},{key:"read",value:function(t,e){var n=t+e*this.n;return this.state.enabled[n]}},{key:"toggle",value:function(t,e,n){var i=t+e*this.n,c={enabled:this.state.enabled.slice(),complete:!1};return c.enabled[i]=n,c.complete=this.isValid(c),this.state=c,this.state}}]),t}(),m=n(0),y=["checked-1.png","checked-2.png","checked-3.png"].map((function(t){return"".concat("/grid-puzzle","/").concat(t)})),w=["unchecked-1.png","unchecked-2.png","unchecked-3.png"].map((function(t){return"".concat("/grid-puzzle","/").concat(t)})),C=Object(g.a)(y.concat(w));try{for(C.s();!(i=C.n()).done;){var k=i.value;(new Image).src=k}}catch(et){C.e(et)}finally{C.f()}var A=function(t){return t?y[Math.floor(Math.random()*y.length)]:w[Math.floor(Math.random()*w.length)]};var T=function(t){var e=t.status,n=t.onToggle,i=Object(c.useState)(A(e)),r=Object(O.a)(i,2),o=r[0],s=r[1],a=Object(c.useState)(!1),l=Object(O.a)(a,2),u=l[0],d=l[1];Object(c.useEffect)((function(){s(A(e))}),[e]);var j=Object(c.useCallback)((function(t){!function(t){if("type"in t){if("click"===t.type)return!1;if("contextmenu"===t.type)return!0}return"which"in t?3===t.which:"button"in t&&2===t.button}(t)?e?(s(A(!1)),n(!1),d(!1)):(s(A(!0)),n(!0),d(!0)):(t.preventDefault(),s(A(!1)),e||!u?(n(!1),d(!0)):d(!1))}),[u,n,e]);return Object(m.jsx)("button",{onClick:j,onContextMenu:j,style:{border:"2px solid black",backgroundImage:u?"url(".concat(o,")"):"",backgroundColor:"white",backgroundSize:"cover",padding:"0"}})},q=function(t){return Object(m.jsx)("div",{style:(e=t.n,{display:"inline-grid",gridTemplateColumns:"100px ".repeat(e),gridTemplateRows:"100px ".repeat(e),border:"4px solid black"}),children:t.children});var e},I={display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},P={width:"45px",filter:"grayscale(100%)"},S=function(t){var e=t.count,n=t.horizontal,i=n?Object(x.a)({transform:"rotate(90deg)"},P):P;return Object(m.jsxs)("div",{style:I,children:[e>=0&&e<7&&Object(m.jsx)("img",{alt:"".concat(e," in this ").concat(n?"row":"column"),style:i,src:"".concat("/grid-puzzle","/counts/dot-").concat(e,".png")}),e>=7&&"".concat(e)]})},D=function(t){var e,n=t.children,i=t.puzzle;return i.colCounts.some((function(t){return t>=0}))||i.rowCounts.some((function(t){return t>=0}))||-1!==i.totalActive?Object(m.jsxs)("div",{style:(e=i.n,{display:"inline-grid",gridTemplateRows:"45px ".concat(100*e+8,"px"),gridTemplateColumns:"".concat(100*e+8,"px 45px"),gridTemplateAreas:'"top-clues total-count" "main-section side-clues"'}),children:[Object(m.jsx)("div",{style:{gridArea:"top-clues",display:"grid",gridTemplateColumns:"100px ".repeat(i.n),justifyContent:"space-around"},children:i.colCounts.map((function(t,e){return Object(m.jsx)(S,{count:t},e)}))}),Object(m.jsx)("div",{style:{gridArea:"main-section"},children:n}),Object(m.jsx)("div",{style:{gridArea:"side-clues",display:"grid",gridTemplateRows:"100px ".repeat(i.n),alignContent:"space-around"},children:i.rowCounts.map((function(t,e){return Object(m.jsx)(S,{count:t,horizontal:!0},e)}))}),-1!==i.totalActive&&Object(m.jsx)("div",{style:{gridArea:"total-count",textAlign:"center",justifyContent:"center"},children:Object(m.jsx)("strong",{style:{fontSize:"2em"},children:i.totalActive})})]}):n},F=function(t){var e=t.onToggle,n=t.puzzle,i=t.state;return Object(m.jsx)(D,{puzzle:n,children:Object(m.jsx)(q,{n:n.n,children:i.enabled.map((function(t,i){var c=i%n.n,r=Math.floor(i/n.n);return Object(m.jsx)(T,{status:t,onToggle:e(c,r),i:i%n.n,j:Math.floor(i/n.n)},i)}))})})},M=function(t){var e=t.details,n=Object(c.useState)(new z(e)),i=Object(O.a)(n,1)[0],r=Object(c.useState)(i.getState()),o=Object(O.a)(r,2),s=o[0],a=o[1],l=Object(c.useCallback)((function(t,e){return function(n){a(i.toggle(t,e,n))}}),[i]);return Object(m.jsx)("div",{style:{backgroundColor:s.complete?"hsla(120, 80%, 80%, 50%)":"",padding:"8px"},children:Object(m.jsx)(F,{puzzle:i,onToggle:l,state:s})})},L={n:3,colCounts:[0,1,0],rowCounts:[0,1,0]},N={n:3,colCounts:[1,3,1],rowCounts:[2,2,1]},E={n:4,colCounts:[2,4,1,1],rowCounts:[3,2,1,2]},J={n:5,colCounts:[3,1,3,3,4],rowCounts:[5,2,4,0,3]},R={n:5,colCounts:[1,1,2,4,4],rowCounts:[2,4,3,0,3]},B={n:6,colCounts:[1,2,4,1,0,1],rowCounts:[0,4,2,1,1,1]},G={n:3,colCounts:[0,1,0],rowCounts:[0,-1,-1]},H={n:3,colCounts:[0,1,-1],rowCounts:[-1,0,-1],totalActive:2},V={n:3,colCounts:[2,0,-1],rowCounts:[1,-1,1]},W={n:3,colCounts:[2,0,-1],rowCounts:[1,-1,1],totalActive:3},K={n:4,colCounts:[1,3,-1,2],rowCounts:[-1,-1,2,1],totalActive:10},Q={n:4,colCounts:[3,1,-1,4],rowCounts:[4,-1,3,2],totalActive:11},U={n:5,colCounts:[1,-1,-1,3,2],rowCounts:[-1,5,2,-1,2],totalActive:9},X={n:5,colCounts:[1,-1,-1,3,2],rowCounts:[-1,5,2,-1,2],totalActive:16},Y=[{title:"Day 1: the beginning",description:"The first day",link:"/days/1",component:function(){return Object(m.jsxs)(h.a,{children:[Object(m.jsx)(u.a,{variant:"h3",children:"Day 1"}),Object(m.jsx)("p",{children:"I'm making a grid-based puzzle and going to add a new idea/mechanic to the puzzles each day to make them more interesting/challenging or add variety etc."}),Object(m.jsx)("p",{children:'Core idea for the puzzle on day 1 is that we have a grid, with a hint about how many "active" squares there are in each row/column.'}),Object(m.jsx)(u.a,{variant:"h4",children:"Intro Puzzle"}),Object(m.jsx)(M,{details:L}),Object(m.jsx)("p",{children:"To signify an active square, click to draw a big dot in that square. A right click will mark a square with grey strokes. This counts as the square still being inactive, but can be used as a note-to-self that the square is definitely not active while working out the puzzle."}),Object(m.jsx)("p",{children:"I hope the solution to this one is straightforward enough. The background will turn green once the puzzle is solved."}),Object(m.jsx)(u.a,{variant:"h4",children:"Puzzle #1"}),Object(m.jsx)(M,{details:N}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Note:"})," These puzzles do not necessarily have unique solutions."]}),Object(m.jsx)(u.a,{variant:"h4",children:"Puzzle #2"}),Object(m.jsx)("p",{children:"Stepping it up to 4 by 4 now."}),Object(m.jsx)(M,{details:E}),Object(m.jsx)("br",{}),Object(m.jsx)(u.a,{variant:"h4",children:"Puzzle #3"}),Object(m.jsx)("p",{children:"And on to 5 by 5 just as quickly."}),Object(m.jsx)(M,{details:J}),Object(m.jsx)("br",{}),Object(m.jsx)(u.a,{variant:"h4",children:"Puzzle #4"}),Object(m.jsx)(M,{details:R}),Object(m.jsx)("br",{}),Object(m.jsx)(u.a,{variant:"h4",children:"Final puzzle"}),Object(m.jsx)(M,{details:B}),Object(m.jsx)("br",{})]})}},{title:"Day 2: some variation",description:"Adding a little variety/ambiguity",link:"/days/2",component:function(){return Object(m.jsxs)(h.a,{children:[Object(m.jsx)(u.a,{variant:"h3",children:"Day 2"}),Object(m.jsx)("p",{children:"Let's add a little variety to the very simple concept introduced yesterday."}),Object(m.jsx)("p",{children:"What if we don't know exactly how many active squares are in some of the rows and columns?"}),Object(m.jsx)(u.a,{variant:"h5",children:"A note on controls"}),Object(m.jsx)("p",{children:"To signify an active square, click to draw a big dot in that square. A right click will mark a square with grey strokes. This counts as the square still being inactive, but can be used as a note-to-self that the square is definitely not active while working out the puzzle."}),Object(m.jsx)(u.a,{variant:"h4",children:"Intro Puzzle"}),Object(m.jsx)(M,{details:G}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Note:"})," There is a difference between the empty circle and no marking at all."]}),Object(m.jsx)("p",{children:"Not too bad yet, I hope."}),Object(m.jsx)(u.a,{variant:"h4",children:"Intro Puzzle #2"}),Object(m.jsxs)("p",{children:["What if we also know how many active squares are in the puzzle ",Object(m.jsx)("strong",{children:"in total"}),"?"]}),Object(m.jsx)(M,{details:H}),Object(m.jsx)("p",{children:"I guess that adds a bit of interest to the scenario."}),Object(m.jsx)(u.a,{variant:"h4",children:"Puzzle #1"}),Object(m.jsx)("p",{children:"Let's do some puzzles now."}),Object(m.jsx)(M,{details:V}),Object(m.jsx)("br",{}),Object(m.jsx)(u.a,{variant:"h4",children:"Puzzle #2"}),Object(m.jsx)("p",{children:"Does one more change things?"}),Object(m.jsx)(M,{details:W}),Object(m.jsx)("p",{children:"Interestingly, there are still more solutions to even this puzzle than I thought at first."}),Object(m.jsx)(u.a,{variant:"h4",children:"Puzzle #3"}),Object(m.jsx)(M,{details:K}),Object(m.jsx)("br",{}),Object(m.jsx)(u.a,{variant:"h4",children:"Puzzle #4"}),Object(m.jsx)(M,{details:Q}),Object(m.jsx)("br",{}),Object(m.jsx)(u.a,{variant:"h4",children:"Final puzzle #1"}),Object(m.jsx)(M,{details:U}),Object(m.jsx)("br",{}),Object(m.jsx)(u.a,{variant:"h4",children:"Final puzzle #2"}),Object(m.jsx)("p",{children:"Identical to the puzzle above except for the total count."}),Object(m.jsx)(M,{details:X}),Object(m.jsx)("br",{})]})}}],Z=function(){return Object(m.jsxs)(h.a,{children:[Object(m.jsx)(u.a,{variant:"h3",children:"Grid puzzles website"}),Object(m.jsx)("p",{children:"Hopefully the home of some interesting puzzles."}),Y.map((function(t){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(a.b,{to:t.link,children:Object(m.jsx)(b.a,{children:Object(m.jsxs)(p.a,{children:[Object(m.jsx)(u.a,{variant:"h5",children:t.title}),t.description&&Object(m.jsx)("p",{children:t.description})]})})},t.link),Object(m.jsx)("br",{})]})}))]})},$=function(t){return Object(m.jsx)(a.b,{to:t.to,style:{textDecoration:"none",color:"white",marginLeft:"20px"},children:Object(m.jsx)(u.a,{variant:"button",children:t.children})})};var _=function(){return Object(m.jsxs)(a.a,{children:[Object(m.jsx)(d.a,{position:"static",children:Object(m.jsxs)(j.a,{children:[Object(m.jsx)(u.a,{variant:"h5",children:"Grid Puzzle"}),Object(m.jsx)($,{to:"/",children:"Home"}),Object(m.jsx)($,{to:Y[Y.length-1].link,children:"Today"})]})}),Object(m.jsxs)(l.c,{children:[Y.map((function(t,e){return Object(m.jsx)(l.a,{path:t.link,children:t.component},e)})),Object(m.jsx)(l.a,{path:"/",children:Object(m.jsx)(Z,{})})]})]})},tt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),i(t),c(t),r(t),o(t)}))};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(_,{})}),document.getElementById("root")),tt()}},[[53,1,2]]]);
//# sourceMappingURL=main.c142a9f6.chunk.js.map